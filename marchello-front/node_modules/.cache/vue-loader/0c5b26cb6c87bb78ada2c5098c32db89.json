{"remainingRequest":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\src\\components\\MarchelloChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\src\\components\\MarchelloChat.vue","mtime":1634895061843},{"path":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dydy2\\Documents\\GitHub\\Marchello\\marchello-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtYXJjaGVsbG9BcGkgZnJvbSAnLi4vYXBpL21hcmNoZWxsb0FwaSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcmNoZWxsb0NoYXQnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBnZW5lcmljRXJyb3I6IGZhbHNlLAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgc2VuZGVyTmFtZTogJycsCiAgICAgICAgZGF0ZTogJycKICAgICAgfSwKICAgICAgZXJyb3JNZXNzYWdlOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtSXNWYWxpZCgpIHsKICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZS5tZXNzYWdlICE9PSAnJzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHNhdmVCZWVyKCkgewogICAgICB0cnkgewogICAgICAgIGlmICh0aGlzLmZvcm1Jc1ZhbGlkKSB7CiAgICAgICAgICBhd2FpdCBtYXJjaGVsbG9BcGkuY3JlYXRlTWVzc2FnZSh0aGlzLm1lc3NhZ2UpOwogICAgICAgICAgdGhpcy5nb1RvTGlzdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlLm1lc3NhZ2UgPT09ICcnKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlLm1lc3NhZ2UgPSAnTGUgbWVzc2FnZSBlc3Qgb2JsaWdhdG9pcmUuJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5nZW5lcmljRXJyb3IgPSB0cnVlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkXCd1biBtZXNzYWdlJyk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["MarchelloChat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MarchelloChat.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n  <div>\n    <form @submit.prevent=\"saveBeer\">\n      <p>\n        Message :\n        <input\n          v-model=\"message.message\"\n          type=\"text\"\n          required\n        >\n      </p><div v-if=\"errorMessage.name\">\n        {{ errorMessage.message }}\n      </div>\n      <button\n        type=\"submit\"\n        :disabled=\"!formIsValid\"\n      >\n        Envoyer\n      </button>\n      <p v-if=\"genericError\">\n        Une erreur est survenue lors de la création de ce message.\n      </p>\n    </form>\n  </div>\n</template>\n\n<script>\nimport marchelloApi from '../api/marchelloApi';\n\nexport default {\n  name: 'MarchelloChat',\n  data() {\n    return {\n      genericError: false,\n      message: {\n        message: '',\n        senderName: '',\n        date: ''\n      },\n      errorMessage: {}\n    };\n  },\n  computed: {\n    formIsValid() {\n      return this.message.message !== '';\n    }\n  },\n  methods: {\n    async saveBeer() {\n      try {\n        if (this.formIsValid) {\n          await marchelloApi.createMessage(this.message);\n          this.goToList();\n        } else {\n          if (this.message.message === '') {\n            this.errorMessage.message = 'Le message est obligatoire.';\n          }\n        }\n      } catch (error) {\n        this.genericError = true;\n        console.error('Erreur lors de la création d\\'un message');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n"]}]}